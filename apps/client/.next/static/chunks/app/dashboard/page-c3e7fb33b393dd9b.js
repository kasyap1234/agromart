(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2363:function(e,s,t){Promise.resolve().then(t.bind(t,7777))},7777:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return C}});var r=t(7437),a=t(2265),n=t(7086),l=t(1245),i=t(7648),c=t(9376),o=t(9778),d=t(7223),u=t(973),m=t(4725),x=t(6331),h=t(7842),p=t(9672),v=t(2930),g=t(9152),f=t(1994);function j(){let e=(0,c.usePathname)(),{canManageProducts:s,canManageInventory:t,canViewReports:a,canManageUsers:n}=(0,l.TE)(),j=[{name:"Dashboard",href:"/dashboard",icon:o.Z,current:"/dashboard"===e},{name:"Products",href:"/products",icon:d.Z,current:e.startsWith("/products"),permission:s},{name:"Inventory",href:"/inventory",icon:u.Z,current:e.startsWith("/inventory"),permission:t},{name:"Batches",href:"/batches",icon:m.Z,current:e.startsWith("/batches"),permission:t},{name:"Reports",href:"/reports",icon:x.Z,current:e.startsWith("/reports"),permission:a},{name:"Low Stock",href:"/reports/low-stock",icon:h.Z,current:"/reports/low-stock"===e,badge:"Alert",permission:a},{name:"Logs",href:"/logs",icon:p.Z,current:e.startsWith("/logs"),permission:a},{name:"Users",href:"/users",icon:v.Z,current:e.startsWith("/users"),permission:n},{name:"Settings",href:"/settings",icon:g.Z,current:e.startsWith("/settings")}].filter(e=>!e.permission||e.permission());return(0,r.jsxs)("div",{className:"flex h-full w-64 flex-col bg-white border-r border-neutral-200",children:[(0,r.jsx)("div",{className:"flex flex-shrink-0 items-center px-6 py-4 border-b border-neutral-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(d.Z,{className:"w-5 h-5 text-white"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-neutral-900",children:"AgroMart"}),(0,r.jsx)("p",{className:"text-xs text-neutral-500",children:"Inventory System"})]})]})}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:j.map(e=>(0,r.jsxs)(i.default,{href:e.href,className:(0,f.Z)(e.current?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900","group flex items-center px-3 py-2 text-sm font-medium border-l-4 transition-colors duration-200"),children:[(0,r.jsx)(e.icon,{className:(0,f.Z)(e.current?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500","mr-3 flex-shrink-0 h-5 w-5"),"aria-hidden":"true"}),(0,r.jsx)("span",{className:"flex-1",children:e.name}),e.badge&&(0,r.jsx)("span",{className:(0,f.Z)(e.current?"bg-primary-100 text-primary-800":"bg-neutral-100 text-neutral-600 group-hover:bg-neutral-200","ml-3 inline-block py-0.5 px-2 text-xs font-medium rounded-full"),children:e.badge})]},e.name))}),(0,r.jsx)("div",{className:"flex-shrink-0 border-t border-neutral-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-primary-600 font-medium text-sm",children:"U"})}),(0,r.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-neutral-900 truncate",children:"User Account"}),(0,r.jsx)("p",{className:"text-xs text-neutral-500 truncate",children:"Online"})]})]})})]})}var N=t(6575),b=t(4786),y=t(9729),w=t(3121),k=t(6503);function Z(e){var s,t;let{title:n}=e,{user:i,logout:c}=(0,l.aC)(),o=[{name:"Your Profile",href:"/profile",icon:y.Z},{name:"Settings",href:"/settings",icon:g.Z}];return(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-neutral-200",children:(0,r.jsx)("div",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex-1",children:n&&(0,r.jsx)("h1",{className:"text-2xl font-semibold text-neutral-900",children:n})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("button",{type:"button",className:"relative p-2 text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-full",children:[(0,r.jsx)("span",{className:"sr-only",children:"View notifications"}),(0,r.jsx)(w.Z,{className:"h-6 w-6","aria-hidden":"true"}),(0,r.jsx)("span",{className:"absolute top-1 right-1 block h-2 w-2 rounded-full bg-error-400 ring-2 ring-white"})]}),(0,r.jsxs)(N.v,{as:"div",className:"relative",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(N.v.Button,{className:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open user menu"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-primary-600 font-medium text-sm",children:(null==i?void 0:null===(t=i.first_name)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.toUpperCase())||"U"})}),(0,r.jsxs)("div",{className:"hidden md:block text-left",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-neutral-900",children:[null==i?void 0:i.first_name," ",null==i?void 0:i.last_name]}),(0,r.jsx)("p",{className:"text-xs text-neutral-500 capitalize",children:null==i?void 0:i.role})]})]})]})}),(0,r.jsx)(b.u,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsxs)(N.v.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[(0,r.jsxs)("div",{className:"px-4 py-2 text-sm text-neutral-500 border-b border-neutral-100 md:hidden",children:[(0,r.jsxs)("p",{className:"font-medium text-neutral-900",children:[null==i?void 0:i.first_name," ",null==i?void 0:i.last_name]}),(0,r.jsx)("p",{className:"text-xs capitalize",children:null==i?void 0:i.role}),(0,r.jsx)("p",{className:"text-xs",children:null==i?void 0:i.email})]}),o.map(e=>(0,r.jsx)(N.v.Item,{children:s=>{let{active:t}=s;return(0,r.jsxs)("a",{href:e.href,className:(0,f.Z)(t?"bg-neutral-50":"","flex items-center px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50"),children:[(0,r.jsx)(e.icon,{className:"mr-3 h-4 w-4 text-neutral-400"}),e.name]})}},e.name)),(0,r.jsx)("div",{className:"border-t border-neutral-100",children:(0,r.jsx)(N.v.Item,{children:e=>{let{active:s}=e;return(0,r.jsxs)("button",{onClick:c,className:(0,f.Z)(s?"bg-neutral-50":"","flex w-full items-center px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-50"),children:[(0,r.jsx)(k.Z,{className:"mr-3 h-4 w-4 text-neutral-400"}),"Sign out"]})}})})]})})]})]})]})})})}var _=(0,l.QO)(function(e){let{children:s,title:t}=e;return(0,r.jsxs)("div",{className:"flex h-screen bg-neutral-50",children:[(0,r.jsx)(j,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)(Z,{title:t}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,r.jsx)("div",{className:"p-6",children:s})})]})]})}),A=t(1837),P=t(8641),E=t(3928),S=t(6546),I=t(322);function L(e){let{title:s,value:t,icon:a,change:n,color:l="primary"}=e;return(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg ".concat({primary:"bg-primary-500",warning:"bg-warning-500",error:"bg-error-500",success:"bg-success-500"}[l]," flex items-center justify-center"),children:(0,r.jsx)(a,{className:"w-6 h-6 text-white"})})}),(0,r.jsxs)("div",{className:"ml-4 flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-neutral-500",children:s}),(0,r.jsx)("p",{className:"text-2xl font-bold text-neutral-900",children:t}),n&&(0,r.jsxs)("div",{className:"flex items-center mt-1",children:["increase"===n.type?(0,r.jsx)(P.Z,{className:"w-4 h-4 text-success-500"}):(0,r.jsx)(E.Z,{className:"w-4 h-4 text-error-500"}),(0,r.jsxs)("span",{className:"text-sm font-medium ml-1 ".concat("increase"===n.type?"text-success-600":"text-error-600"),children:[Math.abs(n.value),"%"]}),(0,r.jsx)("span",{className:"text-sm text-neutral-500 ml-1",children:"vs last month"})]})]})]})})})}function B(){return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 bg-neutral-200 rounded-lg skeleton"})}),(0,r.jsxs)("div",{className:"ml-4 flex-1",children:[(0,r.jsx)("div",{className:"h-4 bg-neutral-200 rounded skeleton mb-2"}),(0,r.jsx)("div",{className:"h-8 bg-neutral-200 rounded skeleton"})]})]})})},s))}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("div",{className:"h-6 bg-neutral-200 rounded skeleton w-32"})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"h-4 bg-neutral-200 rounded skeleton w-32"}),(0,r.jsx)("div",{className:"h-4 bg-neutral-200 rounded skeleton w-16"})]},s))})})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("div",{className:"h-6 bg-neutral-200 rounded skeleton w-32"})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"h-4 bg-neutral-200 rounded skeleton w-32"}),(0,r.jsx)("div",{className:"h-4 bg-neutral-200 rounded skeleton w-20"})]},s))})})]})]})]})}function C(){let{data:e,error:s,isLoading:t}=(0,n.ZP)("/reports/dashboard-stats",()=>A.x1.reports.dashboardStats()),{data:a,error:l,isLoading:i}=(0,n.ZP)("/reports/low-stock",()=>A.x1.reports.lowStock(10)),{data:c,error:o,isLoading:u}=(0,n.ZP)("/reports/expiring-batches",()=>A.x1.reports.expiringBatches(30));if(t||i||u)return(0,r.jsx)(_,{title:"Dashboard",children:(0,r.jsx)(B,{})});if(s||l||o)return(0,r.jsx)(_,{title:"Dashboard",children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(h.Z,{className:"w-12 h-12 text-error-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Error loading dashboard"}),(0,r.jsx)("p",{className:"text-neutral-500",children:"There was an error loading your dashboard data. Please try refreshing the page."})]})});let m=(null==e?void 0:e.data)||{},x=(null==a?void 0:a.data)||[],p=(null==c?void 0:c.data)||[];return(0,r.jsx)(_,{title:"Dashboard",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)(L,{title:"Total Products",value:m.total_products||0,icon:d.Z,color:"primary",change:{value:12,type:"increase"}}),(0,r.jsx)(L,{title:"Low Stock Items",value:m.low_stock_count||0,icon:h.Z,color:"warning"}),(0,r.jsx)(L,{title:"Inventory Value",value:"$".concat((m.total_value||0).toLocaleString()),icon:S.Z,color:"success",change:{value:8,type:"increase"}}),(0,r.jsx)(L,{title:"Expiring Batches",value:m.expiring_batches||0,icon:I.Z,color:"error"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-neutral-900",children:"Low Stock Items"})}),(0,r.jsx)("div",{className:"card-body",children:x.length>0?(0,r.jsxs)("div",{className:"space-y-4",children:[x.slice(0,5).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:e.product_name}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:["SKU: ",e.product_sku]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-error-600",children:[e.current_quantity," units"]}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:["Min: ",e.min_stock_level]})]})]},s)),x.length>5&&(0,r.jsx)("div",{className:"text-center pt-4 border-t border-neutral-200",children:(0,r.jsxs)("a",{href:"/reports/low-stock",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:["View all ",x.length," items"]})})]}):(0,r.jsxs)("div",{className:"text-center py-6",children:[(0,r.jsx)(d.Z,{className:"w-8 h-8 text-neutral-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-neutral-500",children:"No low stock items"})]})})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-neutral-900",children:"Expiring Batches (30 days)"})}),(0,r.jsx)("div",{className:"card-body",children:p.length>0?(0,r.jsxs)("div",{className:"space-y-4",children:[p.slice(0,5).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:e.product_name}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:["Batch: ",e.batch_number]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-warning-600",children:[e.days_until_expiry," days"]}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:[e.quantity," units"]})]})]},s)),p.length>5&&(0,r.jsx)("div",{className:"text-center pt-4 border-t border-neutral-200",children:(0,r.jsxs)("a",{href:"/reports/expiring-batches",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:["View all ",p.length," batches"]})})]}):(0,r.jsxs)("div",{className:"text-center py-6",children:[(0,r.jsx)(I.Z,{className:"w-8 h-8 text-neutral-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-neutral-500",children:"No expiring batches"})]})})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-neutral-900",children:"Quick Actions"})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("a",{href:"/products/new",className:"flex items-center p-4 bg-primary-50 rounded-lg hover:bg-primary-100 transition-colors duration-200",children:[(0,r.jsx)(d.Z,{className:"w-8 h-8 text-primary-600 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-primary-900",children:"Add Product"}),(0,r.jsx)("p",{className:"text-sm text-primary-600",children:"Create a new product"})]})]}),(0,r.jsxs)("a",{href:"/inventory/add",className:"flex items-center p-4 bg-success-50 rounded-lg hover:bg-success-100 transition-colors duration-200",children:[(0,r.jsx)(P.Z,{className:"w-8 h-8 text-success-600 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-success-900",children:"Add Inventory"}),(0,r.jsx)("p",{className:"text-sm text-success-600",children:"Increase stock levels"})]})]}),(0,r.jsxs)("a",{href:"/reports",className:"flex items-center p-4 bg-warning-50 rounded-lg hover:bg-warning-100 transition-colors duration-200",children:[(0,r.jsx)(h.Z,{className:"w-8 h-8 text-warning-600 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-warning-900",children:"View Reports"}),(0,r.jsx)("p",{className:"text-sm text-warning-600",children:"Analyze inventory data"})]})]})]})})]})]})})}},1245:function(e,s,t){"use strict";t.d(s,{AuthProvider:function(){return o},QO:function(){return u},TE:function(){return m},aC:function(){return d}});var r=t(7437),a=t(2265),n=t(9376),l=t(9064),i=t(1837);let c=(0,a.createContext)(void 0);function o(e){let{children:s}=e,[t,o]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!0),h=(0,n.useRouter)();(0,a.useEffect)(()=>{(async()=>{let e=(0,i.bW)();if(e){u(e);try{let e=await i.x1.auth.me();e.success?o(e.data):((0,i.yE)(),u(null))}catch(e){(0,i.yE)(),u(null)}}x(!1)})()},[]);let p=async(e,s)=>{try{x(!0);let t=await i.x1.auth.login(e,s);if(t.success){let{user:e,token:s,refresh_token:r}=t.data;(0,i.uB)(s),(0,i.zI)(r),o(e),u(s),l.Am.success("Login successful!"),h.push("/dashboard")}else throw Error(t.message||"Login failed")}catch(s){var t,r;let e=(null===(r=s.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||s.message||"Login failed";throw l.Am.error(e),s}finally{x(!1)}},v=async e=>{try{x(!0);let s=await i.x1.auth.register(e);if(s.success){let{user:e,token:t,refresh_token:r}=s.data;(0,i.uB)(t),(0,i.zI)(r),o(e),u(t),l.Am.success("Registration successful!"),h.push("/dashboard")}else throw Error(s.message||"Registration failed")}catch(r){var s,t;let e=(null===(t=r.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||r.message||"Registration failed";throw l.Am.error(e),r}finally{x(!1)}},g=async()=>{try{await i.x1.auth.logout()}catch(e){}finally{(0,i.yE)(),o(null),u(null),l.Am.success("Logged out successfully"),h.push("/auth/login")}};return(0,r.jsx)(c.Provider,{value:{user:t,token:d,login:p,register:v,logout:g,isLoading:m,isAuthenticated:!!t&&!!d},children:s})}function d(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function u(e){return function(s){let{isAuthenticated:t,isLoading:l}=d(),i=(0,n.useRouter)();return((0,a.useEffect)(()=>{l||t||i.push("/auth/login")},[t,l,i]),l)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t?(0,r.jsx)(e,{...s}):null}}function m(){let{user:e}=d(),s=s=>(null==e?void 0:e.role)===s,t=s=>s.includes((null==e?void 0:e.role)||"");return{user:e,hasRole:s,hasAnyRole:t,isAdmin:()=>s("admin"),isManager:()=>s("manager"),isUser:()=>s("user"),canManageProducts:()=>t(["admin","manager"]),canManageInventory:()=>t(["admin","manager","user"]),canViewReports:()=>t(["admin","manager"]),canManageUsers:()=>s("admin")}}},1837:function(e,s,t){"use strict";t.d(s,{bW:function(){return d},uB:function(){return c},x1:function(){return i},yE:function(){return u},zI:function(){return o}});var r=t(3464),a=t(4131),n=t(9064);let l=r.Z.create({baseURL:"http://localhost:8080/api",timeout:3e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let s=a.Z.get("auth_token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{if(e.response){let{status:s,data:t}=e.response;switch(s){case 401:a.Z.remove("auth_token"),a.Z.remove("refresh_token"),window.location.href="/auth/login";break;case 403:n.Am.error("Access denied. You do not have permission to perform this action.");break;case 429:n.Am.error("Too many requests. Please try again later.");break;case 500:n.Am.error("Server error. Please try again later.");break;default:t&&"object"==typeof t&&"message"in t?n.Am.error(t.message):n.Am.error("An unexpected error occurred.")}}else e.request?n.Am.error("Network error. Please check your connection."):n.Am.error("An unexpected error occurred.");return Promise.reject(e)});let i={get:(e,s)=>l.get(e,{params:s}).then(e=>e.data),post:(e,s)=>l.post(e,s).then(e=>e.data),put:(e,s)=>l.put(e,s).then(e=>e.data),patch:(e,s)=>l.patch(e,s).then(e=>e.data),delete:e=>l.delete(e).then(e=>e.data),auth:{login:(e,s)=>i.post("/auth/login",{email:e,password:s}),register:e=>i.post("/auth/register",e),logout:()=>i.post("/auth/logout"),me:()=>i.get("/auth/me"),refreshToken:e=>i.post("/auth/refresh",{refresh_token:e})},products:{list:e=>i.get("/products",e),get:e=>i.get("/products/".concat(e)),create:e=>i.post("/products",e),update:(e,s)=>i.patch("/products/".concat(e),s),delete:e=>i.delete("/products/".concat(e)),search:e=>i.get("/products/search?q=".concat(e))},units:{list:()=>i.get("/units"),create:e=>i.post("/units",e),update:(e,s)=>i.put("/units/".concat(e),s),delete:e=>i.delete("/units/".concat(e))},inventory:{list:e=>i.get("/inventory",e),getByProduct:e=>i.get("/inventory/product/".concat(e)),add:e=>i.post("/inventory/add",e),reduce:e=>i.post("/inventory/reduce",e),getLogs:e=>i.get("/inventory/logs",e)},batches:{create:e=>i.post("/batches",e),get:e=>i.get("/batches/".concat(e)),update:(e,s)=>i.put("/batches/".concat(e),s)},reports:{lowStock:e=>i.get("/reports/low-stock",{threshold:e}),expiringBatches:e=>i.get("/reports/expiring-batches",{days:e}),inventoryValue:()=>i.get("/reports/inventory-value"),dashboardStats:()=>i.get("/reports/dashboard-stats")}},c=e=>{a.Z.set("auth_token",e,{expires:7})},o=e=>{a.Z.set("refresh_token",e,{expires:30})},d=()=>a.Z.get("auth_token"),u=()=>{a.Z.remove("auth_token"),a.Z.remove("refresh_token")}}},function(e){e.O(0,[610,648,166,971,117,744],function(){return e(e.s=2363)}),_N_E=e.O()}]);